import{v as e,K as t,u as o}from"./index-CZhDUO0x.js";const a=a=>new Promise((d,s)=>{const r=e("token");t({url:"http://localhost:8080/api"+a.url,method:a.method||"GET",data:a.data||{},header:{"Content-Type":"application/json",Authorization:r?`Bearer ${r}`:""},success:e=>{200===e.statusCode?200===e.data.code?d(e.data):(o({title:e.data.message||"请求失败",icon:"none"}),s(e.data)):(o({title:"网络请求失败",icon:"none"}),s(e))},fail:e=>{o({title:"网络连接失败",icon:"none"}),s(e)}})}),d={wxLogin:e=>a({url:"/user/wx-login",method:"POST",data:e}),phoneLogin:e=>a({url:"/user/phone-login",method:"POST",data:e}),sendCode:e=>a({url:"/user/send-code",method:"POST",data:{phone:e}}),getUserInfo:e=>a({url:"/user/info",method:"GET",data:{userId:e}}),updateUserInfo:(e,t)=>a({url:"/user/info",method:"PUT",data:{userId:e,...t}}),verify:(e,t)=>a({url:"/user/verify",method:"POST",data:{userId:e,...t}}),getPointsRecords:(e,t=20)=>a({url:"/user/points/records",method:"GET",data:{userId:e,limit:t}})};export{d as u};
