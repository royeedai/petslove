import{r as a,o as e,A as s,D as l,a as t,w as u,i as n,b as c,d as o,h as i,p as d,e as r,f,t as _,z as p,u as m,E as v,v as g,B as k,G as C}from"./index-CD2lgknr.js";import{_ as w,u as x}from"./_plugin-vue_export-helper.DKEN6AQv.js";const b=w({__name:"index",setup(w){const b=a(null),y=a({rescueCount:0,adoptionCount:0,donationCount:0}),h=a(0);e(()=>{I()});const I=async()=>{const a=s("userInfo");if(a){b.value=a;try{const e=await x.getUserInfo(a.id);e.data&&(b.value=e.data,l("userInfo",e.data))}catch(e){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥",e)}F()}},F=async()=>{y.value={rescueCount:5,adoptionCount:2,donationCount:8}},j=()=>{b.value?v({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:a=>{console.log("é€‰æ‹©çš„å›¾ç‰‡",a.tempFilePaths),g({title:"å¤´åƒä¸Šä¼ åŠŸèƒ½å¼€å‘ä¸­",icon:"none"})}}):m({url:"/pages/login/index"})},z=a=>{b.value||"/pages/login/index"===a?g({title:"é¡µé¢å¼€å‘ä¸­",icon:"none"}):m({url:"/pages/login/index"})},T=()=>{k({title:"é€€å‡ºç™»å½•",content:"ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ",confirmColor:"#FF8C42",success:a=>{a.confirm&&(C("token"),C("userInfo"),b.value=null,g({title:"å·²é€€å‡ºç™»å½•",icon:"success"}))}})};return(a,e)=>{const s=n,l=d,m=r,v=p;return c(),t(s,{class:"page"},{default:u(()=>[o(s,{class:"user-card"},{default:u(()=>[o(s,{class:"user-bg"},{default:u(()=>[o(s,{class:"bg-pattern-1"}),o(s,{class:"bg-pattern-2"}),o(s,{class:"bg-pattern-3"})]),_:1}),o(s,{class:"user-info-wrapper"},{default:u(()=>[o(s,{class:"avatar-wrapper",onClick:j},{default:u(()=>{var a,e;return[o(l,{src:(null==(a=b.value)?void 0:a.avatar)||"https://api.dicebear.com/7.x/avataaars/svg?seed=default",mode:"aspectFill",class:"user-avatar"},null,8,["src"]),(null==(e=b.value)?void 0:e.isVerified)?(c(),t(s,{key:0,class:"verified-badge"},{default:u(()=>[o(m,{class:"verified-icon"},{default:u(()=>[f("âœ“")]),_:1})]),_:1})):i("",!0)]}),_:1}),o(s,{class:"user-detail"},{default:u(()=>[o(s,{class:"user-name-row"},{default:u(()=>[o(m,{class:"user-nickname"},{default:u(()=>{var a;return[f(_((null==(a=b.value)?void 0:a.nickname)||"æœªç™»å½•"),1)]}),_:1})]),_:1}),o(m,{class:"user-phone"},{default:u(()=>{var a;return[f(_((null==(a=b.value)?void 0:a.phone)||"ç‚¹å‡»ç™»å½•"),1)]}),_:1})]),_:1}),b.value?(c(),t(s,{key:0,class:"points-card",onClick:e[0]||(e[0]=a=>z("/pages/user/points"))},{default:u(()=>[o(s,{class:"points-icon-wrapper"},{default:u(()=>[o(m,{class:"points-icon"},{default:u(()=>[f("ğŸ’°")]),_:1})]),_:1}),o(s,{class:"points-info"},{default:u(()=>[o(m,{class:"points-label"},{default:u(()=>[f("æˆ‘çš„ç§¯åˆ†")]),_:1}),o(m,{class:"points-value"},{default:u(()=>{var a;return[f(_((null==(a=b.value)?void 0:a.points)||0),1)]}),_:1})]),_:1}),o(m,{class:"points-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1})):i("",!0)]),_:1}),b.value?(c(),t(s,{key:0,class:"stats-wrapper"},{default:u(()=>[o(s,{class:"stat-item",onClick:e[1]||(e[1]=a=>z("/pages/user/rescue"))},{default:u(()=>[o(m,{class:"stat-value"},{default:u(()=>[f(_(y.value.rescueCount||0),1)]),_:1}),o(m,{class:"stat-label"},{default:u(()=>[f("æ•‘åŠ©æ¬¡æ•°")]),_:1})]),_:1}),o(s,{class:"stat-divider"}),o(s,{class:"stat-item",onClick:e[2]||(e[2]=a=>z("/pages/user/adoption"))},{default:u(()=>[o(m,{class:"stat-value"},{default:u(()=>[f(_(y.value.adoptionCount||0),1)]),_:1}),o(m,{class:"stat-label"},{default:u(()=>[f("é¢†å…»è®°å½•")]),_:1})]),_:1}),o(s,{class:"stat-divider"}),o(s,{class:"stat-item",onClick:e[3]||(e[3]=a=>z("/pages/user/donation"))},{default:u(()=>[o(m,{class:"stat-value"},{default:u(()=>[f(_(y.value.donationCount||0),1)]),_:1}),o(m,{class:"stat-label"},{default:u(()=>[f("æèµ æ¬¡æ•°")]),_:1})]),_:1})]),_:1})):i("",!0)]),_:1}),o(s,{class:"quick-actions"},{default:u(()=>[o(s,{class:"action-item",onClick:e[4]||(e[4]=a=>z("/pages/user/verify"))},{default:u(()=>{var a;return[o(s,{class:"action-icon-wrapper verify"},{default:u(()=>[o(m,{class:"action-icon"},{default:u(()=>[f("âœ“")]),_:1})]),_:1}),o(m,{class:"action-text"},{default:u(()=>[f("å®åè®¤è¯")]),_:1}),(null==(a=b.value)?void 0:a.isVerified)?(c(),t(s,{key:0,class:"action-status verified"},{default:u(()=>[f(" å·²è®¤è¯ ")]),_:1})):i("",!0)]}),_:1}),o(s,{class:"action-item",onClick:e[5]||(e[5]=a=>z("/pages/user/favorites"))},{default:u(()=>[o(s,{class:"action-icon-wrapper favorite"},{default:u(()=>[o(m,{class:"action-icon"},{default:u(()=>[f("â¤ï¸")]),_:1})]),_:1}),o(m,{class:"action-text"},{default:u(()=>[f("æˆ‘çš„æ”¶è—")]),_:1})]),_:1}),o(s,{class:"action-item",onClick:e[6]||(e[6]=a=>z("/pages/user/messages"))},{default:u(()=>[o(s,{class:"action-icon-wrapper message"},{default:u(()=>[o(m,{class:"action-icon"},{default:u(()=>[f("ğŸ“§")]),_:1})]),_:1}),o(m,{class:"action-text"},{default:u(()=>[f("æ¶ˆæ¯é€šçŸ¥")]),_:1}),h.value>0?(c(),t(s,{key:0,class:"badge-count"},{default:u(()=>[f(_(h.value>99?"99+":h.value),1)]),_:1})):i("",!0)]),_:1}),o(s,{class:"action-item",onClick:e[7]||(e[7]=a=>z("/pages/user/wallet"))},{default:u(()=>[o(s,{class:"action-icon-wrapper wallet"},{default:u(()=>[o(m,{class:"action-icon"},{default:u(()=>[f("ğŸ’°")]),_:1})]),_:1}),o(m,{class:"action-text"},{default:u(()=>[f("æˆ‘çš„é’±åŒ…")]),_:1})]),_:1})]),_:1}),o(s,{class:"menu-group"},{default:u(()=>[o(m,{class:"group-title"},{default:u(()=>[f("æˆ‘çš„æ´»åŠ¨")]),_:1}),o(s,{class:"menu-list"},{default:u(()=>[o(s,{class:"menu-item",onClick:e[8]||(e[8]=a=>z("/pages/user/rescue"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(m,{class:"menu-icon"},{default:u(()=>[f("ğŸ†˜")]),_:1}),o(m,{class:"menu-text"},{default:u(()=>[f("æˆ‘çš„æ•‘åŠ©")]),_:1})]),_:1}),o(m,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1}),o(s,{class:"menu-item",onClick:e[9]||(e[9]=a=>z("/pages/user/adoption"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(m,{class:"menu-icon"},{default:u(()=>[f("ğŸ ")]),_:1}),o(m,{class:"menu-text"},{default:u(()=>[f("æˆ‘çš„é¢†å…»")]),_:1})]),_:1}),o(m,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1}),o(s,{class:"menu-item",onClick:e[10]||(e[10]=a=>z("/pages/user/donation"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(m,{class:"menu-icon"},{default:u(()=>[f("ğŸ’")]),_:1}),o(m,{class:"menu-text"},{default:u(()=>[f("æˆ‘çš„æèµ ")]),_:1})]),_:1}),o(m,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1}),o(s,{class:"menu-item",onClick:e[11]||(e[11]=a=>z("/pages/user/posts"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(m,{class:"menu-icon"},{default:u(()=>[f("ğŸ“")]),_:1}),o(m,{class:"menu-text"},{default:u(()=>[f("æˆ‘çš„åŠ¨æ€")]),_:1})]),_:1}),o(m,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1})]),_:1})]),_:1}),o(s,{class:"menu-group"},{default:u(()=>[o(m,{class:"group-title"},{default:u(()=>[f("è®¾ç½®")]),_:1}),o(s,{class:"menu-list"},{default:u(()=>[o(s,{class:"menu-item",onClick:e[12]||(e[12]=a=>z("/pages/user/profile-edit"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(m,{class:"menu-icon"},{default:u(()=>[f("ğŸ‘¤")]),_:1}),o(m,{class:"menu-text"},{default:u(()=>[f("ä¸ªäººèµ„æ–™")]),_:1})]),_:1}),o(m,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1}),o(s,{class:"menu-item",onClick:e[13]||(e[13]=a=>z("/pages/user/settings"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(m,{class:"menu-icon"},{default:u(()=>[f("âš™ï¸")]),_:1}),o(m,{class:"menu-text"},{default:u(()=>[f("è´¦å·è®¾ç½®")]),_:1})]),_:1}),o(m,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1}),o(s,{class:"menu-item",onClick:e[14]||(e[14]=a=>z("/pages/user/about"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(m,{class:"menu-icon"},{default:u(()=>[f("â„¹ï¸")]),_:1}),o(m,{class:"menu-text"},{default:u(()=>[f("å…³äºæˆ‘ä»¬")]),_:1})]),_:1}),o(m,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1})]),_:1})]),_:1}),o(s,{class:"action-section"},{default:u(()=>[b.value?(c(),t(v,{key:1,class:"btn-logout",onClick:T},{default:u(()=>[f(" é€€å‡ºç™»å½• ")]),_:1})):(c(),t(v,{key:0,class:"btn-login",onClick:e[15]||(e[15]=a=>z("/pages/login/index"))},{default:u(()=>[f(" ç«‹å³ç™»å½• ")]),_:1}))]),_:1}),o(s,{class:"page-footer"})]),_:1})}}},[["__scopeId","data-v-77ded893"]]);export{b as default};
