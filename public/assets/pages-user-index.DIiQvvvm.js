import{r as a,o as e,x as s,A as l,c as t,w as u,i as n,a as c,b as o,p as i,g as d,h as r,j as f,t as _,q as m,n as p,v as g,B as v,u as k}from"./index-BGh3fKSZ.js";import{_ as C,u as x}from"./_plugin-vue_export-helper.BlhsTYF0.js";const b=C({__name:"index",setup(C){const b=a(null),w=a({rescueCount:0,adoptionCount:0,donationCount:0}),y=a(0);e(()=>{F()});const F=async()=>{const a=s("userInfo");if(a){b.value=a;try{const e=await x.getUserInfo(a.id);e.data&&(b.value=e.data,l("userInfo",e.data))}catch(e){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥",e)}h()}},h=async()=>{console.log("åŠ è½½ç”¨æˆ·ç»Ÿè®¡æ•°æ®")},I=a=>{b.value||"/pages/login/index"===a?p({url:a}):p({url:"/pages/login/index"})},j=()=>{g({title:"é€€å‡ºç™»å½•",content:"ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ",confirmColor:"#FF8C42",success:a=>{a.confirm&&(v("token"),v("userInfo"),b.value=null,k({title:"å·²é€€å‡ºç™»å½•",icon:"success"}))}})};return(a,e)=>{const s=n,l=d,p=r,g=m;return c(),t(s,{class:"page"},{default:u(()=>[o(s,{class:"user-card"},{default:u(()=>[o(s,{class:"user-bg"},{default:u(()=>[o(s,{class:"bg-pattern"})]),_:1}),o(s,{class:"user-info-wrapper"},{default:u(()=>{var a;return[o(l,{src:(null==(a=b.value)?void 0:a.avatar)||"https://api.dicebear.com/7.x/avataaars/svg?seed=default",mode:"aspectFill",class:"user-avatar"},null,8,["src"]),o(s,{class:"user-detail"},{default:u(()=>[o(s,{class:"user-name-row"},{default:u(()=>{var a;return[o(p,{class:"user-nickname"},{default:u(()=>{var a;return[f(_((null==(a=b.value)?void 0:a.nickname)||"æœªç™»å½•"),1)]}),_:1}),(null==(a=b.value)?void 0:a.isVerified)?(c(),t(s,{key:0,class:"verified-badge"},{default:u(()=>[o(p,{class:"verified-icon"},{default:u(()=>[f("âœ“")]),_:1})]),_:1})):i("",!0)]}),_:1}),o(p,{class:"user-phone"},{default:u(()=>{var a;return[f(_((null==(a=b.value)?void 0:a.phone)||"ç‚¹å‡»ç™»å½•"),1)]}),_:1})]),_:1}),b.value?(c(),t(s,{key:0,class:"points-card",onClick:e[0]||(e[0]=a=>I("/pages/user/points"))},{default:u(()=>[o(p,{class:"points-label"},{default:u(()=>[f("æˆ‘çš„ç§¯åˆ†")]),_:1}),o(p,{class:"points-value"},{default:u(()=>{var a;return[f(_((null==(a=b.value)?void 0:a.points)||0),1)]}),_:1}),o(p,{class:"points-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1})):i("",!0)]}),_:1}),b.value?(c(),t(s,{key:0,class:"stats-wrapper"},{default:u(()=>[o(s,{class:"stat-item",onClick:e[1]||(e[1]=a=>I("/pages/user/rescue"))},{default:u(()=>[o(p,{class:"stat-value"},{default:u(()=>[f(_(w.value.rescueCount||0),1)]),_:1}),o(p,{class:"stat-label"},{default:u(()=>[f("æ•‘åŠ©æ¬¡æ•°")]),_:1})]),_:1}),o(s,{class:"stat-divider"}),o(s,{class:"stat-item",onClick:e[2]||(e[2]=a=>I("/pages/user/adoption"))},{default:u(()=>[o(p,{class:"stat-value"},{default:u(()=>[f(_(w.value.adoptionCount||0),1)]),_:1}),o(p,{class:"stat-label"},{default:u(()=>[f("é¢†å…»è®°å½•")]),_:1})]),_:1}),o(s,{class:"stat-divider"}),o(s,{class:"stat-item",onClick:e[3]||(e[3]=a=>I("/pages/user/donation"))},{default:u(()=>[o(p,{class:"stat-value"},{default:u(()=>[f(_(w.value.donationCount||0),1)]),_:1}),o(p,{class:"stat-label"},{default:u(()=>[f("æèµ æ¬¡æ•°")]),_:1})]),_:1})]),_:1})):i("",!0)]),_:1}),o(s,{class:"quick-actions"},{default:u(()=>[o(s,{class:"action-item",onClick:e[4]||(e[4]=a=>I("/pages/user/verify"))},{default:u(()=>{var a;return[o(s,{class:"action-icon-wrapper",style:{background:"linear-gradient(135deg, #FF9D5C 0%, #FF7F29 100%)"}},{default:u(()=>[o(p,{class:"action-icon"},{default:u(()=>[f("âœ“")]),_:1})]),_:1}),o(p,{class:"action-text"},{default:u(()=>[f("å®åè®¤è¯")]),_:1}),(null==(a=b.value)?void 0:a.isVerified)?(c(),t(s,{key:0,class:"action-status verified"},{default:u(()=>[f(" å·²è®¤è¯ ")]),_:1})):i("",!0)]}),_:1}),o(s,{class:"action-item",onClick:e[5]||(e[5]=a=>I("/pages/user/favorites"))},{default:u(()=>[o(s,{class:"action-icon-wrapper",style:{background:"linear-gradient(135deg, #F093FB 0%, #F5576C 100%)"}},{default:u(()=>[o(p,{class:"action-icon"},{default:u(()=>[f("â¤ï¸")]),_:1})]),_:1}),o(p,{class:"action-text"},{default:u(()=>[f("æˆ‘çš„æ”¶è—")]),_:1})]),_:1}),o(s,{class:"action-item",onClick:e[6]||(e[6]=a=>I("/pages/user/messages"))},{default:u(()=>[o(s,{class:"action-icon-wrapper",style:{background:"linear-gradient(135deg, #36D1DC 0%, #5B86E5 100%)"}},{default:u(()=>[o(p,{class:"action-icon"},{default:u(()=>[f("ğŸ“§")]),_:1})]),_:1}),o(p,{class:"action-text"},{default:u(()=>[f("æ¶ˆæ¯é€šçŸ¥")]),_:1}),y.value>0?(c(),t(s,{key:0,class:"badge-count"},{default:u(()=>[f(_(y.value>99?"99+":y.value),1)]),_:1})):i("",!0)]),_:1}),o(s,{class:"action-item",onClick:e[7]||(e[7]=a=>I("/pages/user/wallet"))},{default:u(()=>[o(s,{class:"action-icon-wrapper",style:{background:"linear-gradient(135deg, #4FACFE 0%, #00F2FE 100%)"}},{default:u(()=>[o(p,{class:"action-icon"},{default:u(()=>[f("ğŸ’°")]),_:1})]),_:1}),o(p,{class:"action-text"},{default:u(()=>[f("æˆ‘çš„é’±åŒ…")]),_:1})]),_:1})]),_:1}),o(s,{class:"menu-group"},{default:u(()=>[o(p,{class:"group-title"},{default:u(()=>[f("æˆ‘çš„æ´»åŠ¨")]),_:1}),o(s,{class:"menu-list"},{default:u(()=>[o(s,{class:"menu-item",onClick:e[8]||(e[8]=a=>I("/pages/user/rescue"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(p,{class:"menu-icon"},{default:u(()=>[f("ğŸ†˜")]),_:1}),o(p,{class:"menu-text"},{default:u(()=>[f("æˆ‘çš„æ•‘åŠ©")]),_:1})]),_:1}),o(p,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1}),o(s,{class:"menu-item",onClick:e[9]||(e[9]=a=>I("/pages/user/adoption"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(p,{class:"menu-icon"},{default:u(()=>[f("ğŸ ")]),_:1}),o(p,{class:"menu-text"},{default:u(()=>[f("æˆ‘çš„é¢†å…»")]),_:1})]),_:1}),o(p,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1}),o(s,{class:"menu-item",onClick:e[10]||(e[10]=a=>I("/pages/user/donation"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(p,{class:"menu-icon"},{default:u(()=>[f("ğŸ’")]),_:1}),o(p,{class:"menu-text"},{default:u(()=>[f("æˆ‘çš„æèµ ")]),_:1})]),_:1}),o(p,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1}),o(s,{class:"menu-item",onClick:e[11]||(e[11]=a=>I("/pages/user/posts"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(p,{class:"menu-icon"},{default:u(()=>[f("ğŸ“")]),_:1}),o(p,{class:"menu-text"},{default:u(()=>[f("æˆ‘çš„åŠ¨æ€")]),_:1})]),_:1}),o(p,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1})]),_:1})]),_:1}),o(s,{class:"menu-group"},{default:u(()=>[o(p,{class:"group-title"},{default:u(()=>[f("è®¾ç½®")]),_:1}),o(s,{class:"menu-list"},{default:u(()=>[o(s,{class:"menu-item",onClick:e[12]||(e[12]=a=>I("/pages/user/profile-edit"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(p,{class:"menu-icon"},{default:u(()=>[f("ğŸ‘¤")]),_:1}),o(p,{class:"menu-text"},{default:u(()=>[f("ä¸ªäººèµ„æ–™")]),_:1})]),_:1}),o(p,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1}),o(s,{class:"menu-item",onClick:e[13]||(e[13]=a=>I("/pages/user/settings"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(p,{class:"menu-icon"},{default:u(()=>[f("âš™ï¸")]),_:1}),o(p,{class:"menu-text"},{default:u(()=>[f("è´¦å·è®¾ç½®")]),_:1})]),_:1}),o(p,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1}),o(s,{class:"menu-item",onClick:e[14]||(e[14]=a=>I("/pages/user/about"))},{default:u(()=>[o(s,{class:"menu-left"},{default:u(()=>[o(p,{class:"menu-icon"},{default:u(()=>[f("â„¹ï¸")]),_:1}),o(p,{class:"menu-text"},{default:u(()=>[f("å…³äºæˆ‘ä»¬")]),_:1})]),_:1}),o(p,{class:"menu-arrow"},{default:u(()=>[f("â€º")]),_:1})]),_:1})]),_:1})]),_:1}),o(s,{class:"action-section"},{default:u(()=>[b.value?(c(),t(g,{key:1,class:"btn-logout",onClick:j},{default:u(()=>[f(" é€€å‡ºç™»å½• ")]),_:1})):(c(),t(g,{key:0,class:"btn-login",onClick:e[15]||(e[15]=a=>I("/pages/login/index"))},{default:u(()=>[f(" ç«‹å³ç™»å½• ")]),_:1}))]),_:1})]),_:1})}}},[["__scopeId","data-v-aecd95be"]]);export{b as default};
