# 萌友益站 - 公益救助平台架构设计文档

## 一、项目概述

### 1.1 项目简介
萌友益站是一个专为喜爱小动物、关爱流浪动物的人士打造的公益救助平台。平台提供流浪动物救助、领养、捐赠、社区交流等功能，致力于为每一只流浪动物找到温暖的家。

### 1.2 技术栈
- **小程序端**: UniApp（支持微信小程序、H5等多端）
- **后端接口**: Spring Boot 3 + MyBatis-Plus + MySQL
- **管理后台**: Vue 3 + Element Plus + Vite
- **数据库**: MySQL 8.0
- **缓存**: Redis
- **文件存储**: 腾讯云COS/阿里云OSS
- **API文档**: Knife4j (Swagger 3)

## 二、系统架构

### 2.1 整体架构图
```
┌─────────────────────────────────────────────────────────┐
│                       前端层                              │
├──────────────────┬──────────────────┬──────────────────┤
│  UniApp小程序端   │   Vue管理后台     │    H5移动端      │
└──────────────────┴──────────────────┴──────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│                    API网关层 (可选)                       │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│                    Spring Boot 3 应用层                   │
├──────────────────┬──────────────────┬──────────────────┤
│   用户服务模块    │   救助服务模块    │   领养服务模块    │
├──────────────────┼──────────────────┼──────────────────┤
│   捐赠服务模块    │   社区服务模块    │   通知服务模块    │
└──────────────────┴──────────────────┴──────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│                      数据存储层                           │
├──────────────────┬──────────────────┬──────────────────┤
│   MySQL数据库     │   Redis缓存      │   文件存储服务    │
└──────────────────┴──────────────────┴──────────────────┘
```

### 2.2 模块划分

#### 2.2.1 用户中心模块
- 用户注册/登录（手机号、微信授权）
- 用户信息管理（个人资料、实名认证）
- 角色权限管理（普通用户、志愿者、管理员）
- 用户积分/徽章系统

#### 2.2.2 救助管理模块
- 流浪动物报备（位置、照片、描述）
- 救助任务发布与接单
- 救助进度跟踪
- 救助历史记录

#### 2.2.3 领养中心模块
- 待领养动物展示（详细信息、照片、视频）
- 领养申请提交（申请表单、审核流程）
- 领养进度查询
- 领养后回访记录

#### 2.2.4 捐赠模块
- 物资捐赠（猫粮、狗粮、医疗用品等）
- 资金捐赠（支付接口对接）
- 捐赠记录查询
- 捐赠榜单展示

#### 2.2.5 社区交流模块
- 动态发布（图文、视频）
- 评论/点赞/转发
- 养宠知识分享
- 用户互动交流

#### 2.2.6 通知消息模块
- 系统通知
- 救助提醒
- 审核通知
- 活动推送

#### 2.2.7 数据统计模块（管理后台）
- 用户数据统计
- 救助数据分析
- 领养数据分析
- 捐赠数据统计

## 三、数据库设计

### 3.1 核心数据表

#### 用户相关表
```sql
-- 用户表
CREATE TABLE `user` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '用户ID',
  `openid` VARCHAR(64) UNIQUE COMMENT '微信openid',
  `unionid` VARCHAR(64) COMMENT '微信unionid',
  `phone` VARCHAR(20) UNIQUE COMMENT '手机号',
  `nickname` VARCHAR(50) COMMENT '昵称',
  `avatar` VARCHAR(255) COMMENT '头像',
  `gender` TINYINT DEFAULT 0 COMMENT '性别 0-未知 1-男 2-女',
  `real_name` VARCHAR(20) COMMENT '真实姓名',
  `id_card` VARCHAR(18) COMMENT '身份证号',
  `is_verified` TINYINT DEFAULT 0 COMMENT '是否实名认证',
  `role` VARCHAR(20) DEFAULT 'USER' COMMENT '角色 USER-普通用户 VOLUNTEER-志愿者 ADMIN-管理员',
  `points` INT DEFAULT 0 COMMENT '积分',
  `status` TINYINT DEFAULT 1 COMMENT '状态 0-禁用 1-正常',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `update_time` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX `idx_phone` (`phone`),
  INDEX `idx_openid` (`openid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户表';

-- 用户地址表
CREATE TABLE `user_address` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `user_id` BIGINT NOT NULL COMMENT '用户ID',
  `contact_name` VARCHAR(20) COMMENT '联系人姓名',
  `contact_phone` VARCHAR(20) COMMENT '联系电话',
  `province` VARCHAR(50) COMMENT '省',
  `city` VARCHAR(50) COMMENT '市',
  `district` VARCHAR(50) COMMENT '区',
  `address` VARCHAR(200) COMMENT '详细地址',
  `is_default` TINYINT DEFAULT 0 COMMENT '是否默认地址',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  INDEX `idx_user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户地址表';
```

#### 动物相关表
```sql
-- 流浪动物表
CREATE TABLE `stray_animal` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `report_user_id` BIGINT NOT NULL COMMENT '报备人ID',
  `animal_type` VARCHAR(20) COMMENT '动物类型 CAT-猫 DOG-狗 OTHER-其他',
  `breed` VARCHAR(50) COMMENT '品种',
  `gender` TINYINT COMMENT '性别 1-公 2-母 0-未知',
  `age_estimate` VARCHAR(20) COMMENT '年龄估计',
  `color` VARCHAR(50) COMMENT '毛色',
  `size` VARCHAR(20) COMMENT '体型 SMALL-小型 MEDIUM-中型 LARGE-大型',
  `health_status` VARCHAR(20) COMMENT '健康状况 GOOD-良好 INJURED-受伤 SICK-生病',
  `description` TEXT COMMENT '详细描述',
  `images` TEXT COMMENT '图片URL列表，JSON数组',
  `location_province` VARCHAR(50) COMMENT '省',
  `location_city` VARCHAR(50) COMMENT '市',
  `location_district` VARCHAR(50) COMMENT '区',
  `location_address` VARCHAR(200) COMMENT '详细位置',
  `location_lat` DECIMAL(10,7) COMMENT '纬度',
  `location_lng` DECIMAL(10,7) COMMENT '经度',
  `status` VARCHAR(20) DEFAULT 'REPORTED' COMMENT '状态 REPORTED-已报备 RESCUING-救助中 RESCUED-已救助 ADOPTED-已领养',
  `rescue_id` BIGINT COMMENT '关联救助记录ID',
  `adoption_id` BIGINT COMMENT '关联领养记录ID',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `update_time` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX `idx_report_user` (`report_user_id`),
  INDEX `idx_status` (`status`),
  INDEX `idx_location` (`location_city`, `location_district`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='流浪动物表';
```

#### 救助相关表
```sql
-- 救助任务表
CREATE TABLE `rescue_task` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `animal_id` BIGINT NOT NULL COMMENT '动物ID',
  `publisher_id` BIGINT NOT NULL COMMENT '发布人ID',
  `rescuer_id` BIGINT COMMENT '救助人ID',
  `title` VARCHAR(100) COMMENT '任务标题',
  `description` TEXT COMMENT '任务描述',
  `urgency` VARCHAR(20) DEFAULT 'NORMAL' COMMENT '紧急程度 LOW-低 NORMAL-普通 HIGH-高 URGENT-紧急',
  `status` VARCHAR(20) DEFAULT 'PUBLISHED' COMMENT '状态 PUBLISHED-已发布 ACCEPTED-已接单 COMPLETED-已完成 CANCELLED-已取消',
  `accept_time` DATETIME COMMENT '接单时间',
  `complete_time` DATETIME COMMENT '完成时间',
  `rescue_images` TEXT COMMENT '救助过程图片',
  `rescue_note` TEXT COMMENT '救助备注',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `update_time` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX `idx_animal` (`animal_id`),
  INDEX `idx_publisher` (`publisher_id`),
  INDEX `idx_rescuer` (`rescuer_id`),
  INDEX `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='救助任务表';
```

#### 领养相关表
```sql
-- 领养申请表
CREATE TABLE `adoption_application` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `animal_id` BIGINT NOT NULL COMMENT '动物ID',
  `applicant_id` BIGINT NOT NULL COMMENT '申请人ID',
  `applicant_name` VARCHAR(20) COMMENT '申请人姓名',
  `applicant_phone` VARCHAR(20) COMMENT '联系电话',
  `applicant_address` VARCHAR(200) COMMENT '居住地址',
  `housing_type` VARCHAR(20) COMMENT '住房类型 RENT-租房 OWN-自有',
  `has_experience` TINYINT DEFAULT 0 COMMENT '是否有养宠经验',
  `experience_desc` TEXT COMMENT '养宠经验描述',
  `family_agree` TINYINT DEFAULT 0 COMMENT '家人是否同意',
  `reason` TEXT COMMENT '领养原因',
  `commitment` TEXT COMMENT '领养承诺',
  `status` VARCHAR(20) DEFAULT 'PENDING' COMMENT '状态 PENDING-待审核 APPROVED-已通过 REJECTED-已拒绝 COMPLETED-已完成',
  `reviewer_id` BIGINT COMMENT '审核人ID',
  `review_note` TEXT COMMENT '审核备注',
  `review_time` DATETIME COMMENT '审核时间',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `update_time` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX `idx_animal` (`animal_id`),
  INDEX `idx_applicant` (`applicant_id`),
  INDEX `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='领养申请表';

-- 领养回访记录表
CREATE TABLE `adoption_followup` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `adoption_id` BIGINT NOT NULL COMMENT '领养记录ID',
  `visitor_id` BIGINT NOT NULL COMMENT '回访人ID',
  `followup_date` DATE COMMENT '回访日期',
  `animal_status` VARCHAR(20) COMMENT '动物状况',
  `images` TEXT COMMENT '回访图片',
  `note` TEXT COMMENT '回访记录',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  INDEX `idx_adoption` (`adoption_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='领养回访记录表';
```

#### 捐赠相关表
```sql
-- 捐赠记录表
CREATE TABLE `donation_record` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `donor_id` BIGINT NOT NULL COMMENT '捐赠人ID',
  `donation_type` VARCHAR(20) COMMENT '捐赠类型 MONEY-资金 MATERIAL-物资',
  `amount` DECIMAL(10,2) COMMENT '捐赠金额（资金捐赠）',
  `material_name` VARCHAR(100) COMMENT '物资名称（物资捐赠）',
  `material_quantity` INT COMMENT '物资数量',
  `material_unit` VARCHAR(20) COMMENT '物资单位',
  `target_id` BIGINT COMMENT '捐赠目标ID（可选，指定救助任务或动物）',
  `order_no` VARCHAR(50) UNIQUE COMMENT '订单号',
  `payment_method` VARCHAR(20) COMMENT '支付方式 WECHAT-微信 ALIPAY-支付宝',
  `payment_status` VARCHAR(20) DEFAULT 'PENDING' COMMENT '支付状态 PENDING-待支付 SUCCESS-已支付 FAILED-失败',
  `payment_time` DATETIME COMMENT '支付时间',
  `is_anonymous` TINYINT DEFAULT 0 COMMENT '是否匿名',
  `message` VARCHAR(200) COMMENT '留言',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  INDEX `idx_donor` (`donor_id`),
  INDEX `idx_order` (`order_no`),
  INDEX `idx_status` (`payment_status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='捐赠记录表';
```

#### 社区相关表
```sql
-- 帖子表
CREATE TABLE `post` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `user_id` BIGINT NOT NULL COMMENT '发布人ID',
  `category` VARCHAR(20) COMMENT '分类 KNOWLEDGE-知识分享 DAILY-日常分享 HELP-求助 STORY-故事',
  `title` VARCHAR(100) COMMENT '标题',
  `content` TEXT COMMENT '内容',
  `images` TEXT COMMENT '图片列表JSON',
  `video_url` VARCHAR(255) COMMENT '视频URL',
  `animal_id` BIGINT COMMENT '关联动物ID（可选）',
  `view_count` INT DEFAULT 0 COMMENT '浏览量',
  `like_count` INT DEFAULT 0 COMMENT '点赞数',
  `comment_count` INT DEFAULT 0 COMMENT '评论数',
  `is_top` TINYINT DEFAULT 0 COMMENT '是否置顶',
  `status` TINYINT DEFAULT 1 COMMENT '状态 0-已删除 1-正常',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `update_time` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX `idx_user` (`user_id`),
  INDEX `idx_category` (`category`),
  INDEX `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='帖子表';

-- 评论表
CREATE TABLE `comment` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `post_id` BIGINT NOT NULL COMMENT '帖子ID',
  `user_id` BIGINT NOT NULL COMMENT '评论人ID',
  `parent_id` BIGINT DEFAULT 0 COMMENT '父评论ID，0表示一级评论',
  `reply_to_id` BIGINT COMMENT '回复的用户ID',
  `content` VARCHAR(500) COMMENT '评论内容',
  `like_count` INT DEFAULT 0 COMMENT '点赞数',
  `status` TINYINT DEFAULT 1 COMMENT '状态 0-已删除 1-正常',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  INDEX `idx_post` (`post_id`),
  INDEX `idx_user` (`user_id`),
  INDEX `idx_parent` (`parent_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='评论表';

-- 点赞表
CREATE TABLE `like_record` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `user_id` BIGINT NOT NULL COMMENT '用户ID',
  `target_type` VARCHAR(20) COMMENT '目标类型 POST-帖子 COMMENT-评论',
  `target_id` BIGINT NOT NULL COMMENT '目标ID',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  UNIQUE KEY `uk_user_target` (`user_id`, `target_type`, `target_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='点赞记录表';
```

#### 系统相关表
```sql
-- 通知消息表
CREATE TABLE `notification` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `user_id` BIGINT NOT NULL COMMENT '接收用户ID',
  `type` VARCHAR(20) COMMENT '通知类型 SYSTEM-系统 RESCUE-救助 ADOPTION-领养 COMMENT-评论 LIKE-点赞',
  `title` VARCHAR(100) COMMENT '标题',
  `content` VARCHAR(500) COMMENT '内容',
  `related_id` BIGINT COMMENT '关联ID',
  `is_read` TINYINT DEFAULT 0 COMMENT '是否已读',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  INDEX `idx_user` (`user_id`),
  INDEX `idx_is_read` (`is_read`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='通知消息表';

-- 系统配置表
CREATE TABLE `system_config` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `config_key` VARCHAR(50) UNIQUE COMMENT '配置键',
  `config_value` TEXT COMMENT '配置值',
  `description` VARCHAR(200) COMMENT '描述',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `update_time` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='系统配置表';

-- 轮播图表
CREATE TABLE `banner` (
  `id` BIGINT PRIMARY KEY AUTO_INCREMENT,
  `title` VARCHAR(100) COMMENT '标题',
  `image_url` VARCHAR(255) COMMENT '图片URL',
  `link_url` VARCHAR(255) COMMENT '跳转链接',
  `link_type` VARCHAR(20) COMMENT '链接类型 PAGE-页面 URL-外链',
  `sort_order` INT DEFAULT 0 COMMENT '排序',
  `status` TINYINT DEFAULT 1 COMMENT '状态 0-禁用 1-启用',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  INDEX `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='轮播图表';
```

## 四、API接口设计

### 4.1 接口规范

#### 统一响应格式
```json
{
  "code": 200,
  "message": "success",
  "data": {},
  "timestamp": 1700000000000
}
```

#### 状态码定义
- 200: 成功
- 400: 请求参数错误
- 401: 未授权
- 403: 无权限
- 404: 资源不存在
- 500: 服务器错误

### 4.2 核心接口列表

#### 用户模块
```
POST   /api/auth/login              用户登录（微信授权）
POST   /api/auth/phone-login        手机号登录
POST   /api/auth/register           用户注册
GET    /api/user/info               获取用户信息
PUT    /api/user/info               更新用户信息
POST   /api/user/verify             实名认证
GET    /api/user/points             获取积分记录
```

#### 救助模块
```
POST   /api/rescue/report           报备流浪动物
GET    /api/rescue/animals          获取流浪动物列表
GET    /api/rescue/animal/{id}      获取动物详情
POST   /api/rescue/task             发布救助任务
GET    /api/rescue/tasks            获取救助任务列表
POST   /api/rescue/task/{id}/accept 接受救助任务
POST   /api/rescue/task/{id}/complete 完成救助任务
```

#### 领养模块
```
GET    /api/adoption/animals        获取待领养动物列表
GET    /api/adoption/animal/{id}    获取动物详情
POST   /api/adoption/apply          提交领养申请
GET    /api/adoption/my-applications 我的领养申请
PUT    /api/adoption/{id}/review    审核领养申请（管理员）
POST   /api/adoption/{id}/followup  添加回访记录
```

#### 捐赠模块
```
POST   /api/donation/create         创建捐赠订单
GET    /api/donation/my-records     我的捐赠记录
GET    /api/donation/ranking        捐赠榜单
POST   /api/donation/callback       支付回调
```

#### 社区模块
```
POST   /api/community/post          发布帖子
GET    /api/community/posts         获取帖子列表
GET    /api/community/post/{id}     获取帖子详情
DELETE /api/community/post/{id}     删除帖子
POST   /api/community/comment       发表评论
POST   /api/community/like          点赞/取消点赞
```

#### 通知模块
```
GET    /api/notification/list       获取通知列表
PUT    /api/notification/read       标记已读
GET    /api/notification/unread-count 未读数量
```

## 五、项目目录结构

### 5.1 后端项目结构
```
mengyo-backend/
├── pom.xml
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── com/
│   │   │       └── mengyo/
│   │   │           ├── MengyoApplication.java
│   │   │           ├── common/            # 公共模块
│   │   │           │   ├── constant/      # 常量定义
│   │   │           │   ├── exception/     # 异常处理
│   │   │           │   ├── result/        # 统一返回
│   │   │           │   └── utils/         # 工具类
│   │   │           ├── config/            # 配置类
│   │   │           │   ├── MybatisPlusConfig.java
│   │   │           │   ├── RedisConfig.java
│   │   │           │   ├── SwaggerConfig.java
│   │   │           │   └── WebConfig.java
│   │   │           ├── security/          # 安全配置
│   │   │           │   ├── JwtUtil.java
│   │   │           │   └── SecurityConfig.java
│   │   │           ├── module/            # 业务模块
│   │   │           │   ├── user/
│   │   │           │   │   ├── controller/
│   │   │           │   │   ├── service/
│   │   │           │   │   ├── mapper/
│   │   │           │   │   ├── entity/
│   │   │           │   │   └── dto/
│   │   │           │   ├── rescue/
│   │   │           │   ├── adoption/
│   │   │           │   ├── donation/
│   │   │           │   ├── community/
│   │   │           │   └── notification/
│   │   │           └── task/              # 定时任务
│   │   └── resources/
│   │       ├── application.yml
│   │       ├── application-dev.yml
│   │       ├── application-prod.yml
│   │       └── mapper/                    # MyBatis XML
│   └── test/
└── README.md
```

### 5.2 小程序项目结构
```
mengyo-miniapp/
├── pages/                      # 页面
│   ├── index/                  # 首页
│   ├── rescue/                 # 救助相关
│   │   ├── list/              # 救助列表
│   │   ├── detail/            # 救助详情
│   │   └── report/            # 报备
│   ├── adoption/              # 领养相关
│   │   ├── list/
│   │   ├── detail/
│   │   └── apply/
│   ├── donation/              # 捐赠
│   ├── community/             # 社区
│   │   ├── list/
│   │   ├── detail/
│   │   └── publish/
│   └── user/                  # 用户中心
│       ├── index/
│       ├── info/
│       └── records/
├── components/                # 组件
├── static/                    # 静态资源
├── store/                     # 状态管理
├── utils/                     # 工具函数
│   ├── request.js
│   └── auth.js
├── App.vue
├── main.js
├── manifest.json
├── pages.json
└── uni.scss
```

### 5.3 管理后台项目结构
```
mengyo-admin/
├── public/
├── src/
│   ├── api/                   # API接口
│   ├── assets/                # 静态资源
│   ├── components/            # 组件
│   ├── layout/                # 布局
│   ├── router/                # 路由
│   ├── store/                 # Vuex/Pinia
│   ├── utils/                 # 工具
│   ├── views/                 # 页面
│   │   ├── dashboard/         # 数据看板
│   │   ├── user/             # 用户管理
│   │   ├── rescue/           # 救助管理
│   │   ├── adoption/         # 领养管理
│   │   ├── donation/         # 捐赠管理
│   │   ├── community/        # 社区管理
│   │   └── system/           # 系统设置
│   ├── App.vue
│   └── main.js
├── package.json
└── vite.config.js
```

## 六、开发计划（分阶段）

### 第一阶段：基础框架搭建（Week 1-2）
**目标：完成基础架构和核心功能开发环境搭建**

#### 后端开发
- [x] 创建Spring Boot 3项目
- [ ] 集成MyBatis-Plus + MySQL
- [ ] 集成Redis缓存
- [ ] 配置Swagger API文档
- [ ] 实现JWT认证机制
- [ ] 完成统一响应格式
- [ ] 实现全局异常处理
- [ ] 创建基础数据表

#### 前端开发
- [ ] 创建UniApp小程序项目
- [ ] 创建Vue3管理后台项目
- [ ] 配置基础路由
- [ ] 封装HTTP请求工具
- [ ] 实现登录页面

**交付物：**
- 可运行的后端项目框架
- 可编译的小程序和管理后台项目
- 数据库初始化脚本
- 项目部署文档

---

### 第二阶段：用户系统（Week 3-4）
**目标：完成用户注册、登录、认证等核心功能**

#### 功能清单
- [ ] 微信授权登录
- [ ] 手机号登录/注册
- [ ] 用户信息管理
- [ ] 实名认证
- [ ] 用户角色权限
- [ ] 积分系统基础

#### 页面清单
- [ ] 登录页
- [ ] 用户中心首页
- [ ] 个人信息编辑
- [ ] 实名认证页面
- [ ] 管理后台用户管理

**测试要点：**
- 登录流程完整性
- Token刷新机制
- 权限控制准确性

---

### 第三阶段：救助管理模块（Week 5-6）
**目标：实现流浪动物报备和救助任务管理**

#### 功能清单
- [ ] 流浪动物报备（位置、图片上传）
- [ ] 流浪动物列表展示（筛选、搜索）
- [ ] 动物详情查看
- [ ] 救助任务发布
- [ ] 救助任务接单
- [ ] 救助进度更新
- [ ] 救助历史记录

#### 页面清单
- [ ] 报备表单页
- [ ] 流浪动物列表页
- [ ] 动物详情页
- [ ] 救助任务列表
- [ ] 任务详情页
- [ ] 管理后台救助管理

**测试要点：**
- 图片上传功能
- 地理位置获取
- 任务状态流转

---

### 第四阶段：领养中心模块（Week 7-8）
**目标：实现动物领养申请和审核流程**

#### 功能清单
- [ ] 待领养动物展示
- [ ] 领养申请提交
- [ ] 领养申请审核
- [ ] 领养进度查询
- [ ] 领养回访记录
- [ ] 领养证书生成

#### 页面清单
- [ ] 待领养动物列表
- [ ] 领养申请表单
- [ ] 我的领养申请
- [ ] 领养详情页
- [ ] 管理后台审核页面

**测试要点：**
- 申请表单验证
- 审核流程完整性
- 消息通知推送

---

### 第五阶段：捐赠模块（Week 9-10）
**目标：实现资金和物资捐赠功能**

#### 功能清单
- [ ] 资金捐赠（对接微信支付）
- [ ] 物资捐赠登记
- [ ] 捐赠记录查询
- [ ] 捐赠榜单展示
- [ ] 捐赠证书生成
- [ ] 捐赠数据统计

#### 页面清单
- [ ] 捐赠页面
- [ ] 捐赠记录
- [ ] 捐赠榜单
- [ ] 管理后台捐赠管理

**测试要点：**
- 支付流程完整性
- 支付回调处理
- 订单状态同步

---

### 第六阶段：社区交流模块（Week 11-12）
**目标：实现用户社区互动功能**

#### 功能清单
- [ ] 帖子发布（图文、视频）
- [ ] 帖子列表展示
- [ ] 帖子详情查看
- [ ] 评论功能
- [ ] 点赞功能
- [ ] 帖子分享
- [ ] 内容审核（管理后台）

#### 页面清单
- [ ] 社区首页
- [ ] 发布帖子页
- [ ] 帖子详情页
- [ ] 评论列表
- [ ] 管理后台内容审核

**测试要点：**
- 图文视频上传
- 评论嵌套显示
- 内容过滤机制

---

### 第七阶段：通知系统（Week 13）
**目标：完善消息通知机制**

#### 功能清单
- [ ] 系统通知推送
- [ ] 救助提醒
- [ ] 审核结果通知
- [ ] 评论/点赞提醒
- [ ] 消息中心
- [ ] 未读数量显示

#### 页面清单
- [ ] 消息中心页
- [ ] 通知详情页
- [ ] 消息设置页

---

### 第八阶段：数据统计与管理后台完善（Week 14-15）
**目标：完善管理后台功能和数据分析**

#### 功能清单
- [ ] 数据看板（用户、救助、领养、捐赠统计）
- [ ] 用户管理（查询、禁用、角色分配）
- [ ] 志愿者管理
- [ ] 系统配置管理
- [ ] 轮播图管理
- [ ] 操作日志
- [ ] 数据导出

#### 页面清单
- [ ] Dashboard数据看板
- [ ] 用户管理列表
- [ ] 系统配置页
- [ ] 运营数据报表

---

### 第九阶段：优化与测试（Week 16-17）
**目标：性能优化和全面测试**

#### 优化项
- [ ] 接口性能优化
- [ ] 数据库查询优化
- [ ] 图片加载优化
- [ ] 缓存策略优化
- [ ] 前端性能优化

#### 测试项
- [ ] 功能测试
- [ ] 接口测试
- [ ] 压力测试
- [ ] 兼容性测试
- [ ] 安全测试

---

### 第十阶段：上线准备（Week 18）
**目标：项目部署和上线**

#### 准备工作
- [ ] 服务器环境配置
- [ ] 域名备案和SSL证书
- [ ] 小程序审核提交
- [ ] 数据备份方案
- [ ] 监控告警配置
- [ ] 用户使用手册
- [ ] 运营推广方案

---

## 七、技术要点说明

### 7.1 安全策略
- JWT Token认证
- 接口签名验证
- 敏感信息加密存储
- SQL注入防护
- XSS防护
- 图片内容审核

### 7.2 性能优化
- Redis缓存热点数据
- 数据库索引优化
- 图片CDN加速
- 接口分页查询
- 懒加载和虚拟列表

### 7.3 扩展性设计
- 模块化设计
- 接口版本管理
- 配置化管理
- 消息队列解耦（可选）
- 微服务架构预留（可选）

## 八、风险与应对

### 8.1 技术风险
- **风险**：第三方API调用失败
- **应对**：增加重试机制和降级方案

### 8.2 业务风险
- **风险**：用户上传不良内容
- **应对**：接入内容审核API，人工复审

### 8.3 运营风险
- **风险**：捐赠资金管理透明度
- **应对**：完善资金流向记录和公示机制

## 九、后续规划

### V2.0 功能规划
- [ ] 宠物医院合作对接
- [ ] 在线宠物课堂
- [ ] 志愿者积分商城
- [ ] 宠物保险对接
- [ ] 同城活动组织
- [ ] 直播功能
- [ ] AI宠物识别

### 运营规划
- [ ] 建立志愿者团队
- [ ] 对接线下救助站
- [ ] 开展公益活动
- [ ] 企业捐赠对接
- [ ] 媒体宣传推广

---

## 十、附录

### 10.1 开发规范
- 代码规范：遵循阿里巴巴Java开发规范
- 接口文档：使用Swagger自动生成
- Git规范：使用Git Flow工作流
- 命名规范：统一使用驼峰命名

### 10.2 相关资源
- Spring Boot 3 文档：https://spring.io/projects/spring-boot
- UniApp文档：https://uniapp.dcloud.net.cn/
- Vue3文档：https://cn.vuejs.org/
- Element Plus文档：https://element-plus.org/

---

**文档版本**: v1.0  
**创建日期**: 2025-11-21  
**最后更新**: 2025-11-21
