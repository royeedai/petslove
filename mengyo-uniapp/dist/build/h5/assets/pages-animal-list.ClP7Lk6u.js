import{r as a,o as l,k as e,c as s,w as t,i as c,a as u,b as o,p as i,h as n,j as d,I as f,l as r,d as _,F as v,e as p,m,t as b,g as h,q as k,s as g,u as y}from"./index-BGh3fKSZ.js";import{_ as C,r as j}from"./_plugin-vue_export-helper.BlhsTYF0.js";const w=C({__name:"list",setup(C){const w=a(""),x=a("all"),L=a(!1),q=a("all"),T=a("all"),V=a([{label:"å…¨éƒ¨",value:"all",emoji:"ðŸ¾"},{label:"ç‹—ç‹—",value:"dog",emoji:"ðŸ•"},{label:"çŒ«å’ª",value:"cat",emoji:"ðŸˆ"},{label:"å…¶ä»–",value:"other",emoji:"ðŸ¦Š"}]),F=a([{label:"å…¨éƒ¨",value:"all"},{label:"ç‹—",value:"dog"},{label:"çŒ«",value:"cat"},{label:"å…¶ä»–",value:"other"}]),I=a([{label:"å…¨éƒ¨",value:"all"},{label:"å¥åº·",value:"healthy"},{label:"å—ä¼¤",value:"injured"},{label:"æ‚£ç—…",value:"sick"}]),S=a([]);l(()=>{U()}),e(x,()=>{U()});const U=async()=>{try{const a={page:1,size:20};"all"!==x.value&&(a.animalType=x.value),"all"!==q.value&&(a.animalType=q.value),"all"!==T.value&&(a.healthStatus=T.value);const l=await j.getAnimalList(a);l.data&&l.data.records&&(S.value=l.data.records.map(a=>({...a,photo:a.photo||z(a.animalType),isLiked:!1})))}catch(a){console.error("åŠ è½½åŠ¨ç‰©åˆ—è¡¨å¤±è´¥",a)}},z=a=>{const l={dog:"https://images.unsplash.com/photo-1543466835-00a7907e9de1?w=600&q=80",cat:"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=600&q=80",other:"https://images.unsplash.com/photo-1425082661705-1834bfd09dca?w=600&q=80"};return l[a]||l.other},A=()=>{console.log("æœç´¢:",w.value),U()},B=()=>{q.value="all",T.value="all"},D=()=>{L.value=!1,U()};return(a,l)=>{const e=n,C=f,j=c,U=r,z=h,E=k;return u(),s(j,{class:"page"},{default:t(()=>[o(j,{class:"search-bar"},{default:t(()=>[o(j,{class:"search-input-wrapper"},{default:t(()=>[o(e,{class:"search-icon"},{default:t(()=>[d("ðŸ”")]),_:1}),o(C,{modelValue:w.value,"onUpdate:modelValue":l[0]||(l[0]=a=>w.value=a),type:"text",placeholder:"æœç´¢åŠ¨ç‰©åç§°æˆ–å“ç§",class:"search-input",onConfirm:A},null,8,["modelValue"])]),_:1}),o(j,{class:"filter-btn",onClick:l[1]||(l[1]=a=>L.value=!0)},{default:t(()=>[o(e,{class:"filter-icon"},{default:t(()=>[d("âš™ï¸")]),_:1})]),_:1})]),_:1}),o(U,{"scroll-x":"",class:"category-scroll"},{default:t(()=>[o(j,{class:"category-list"},{default:t(()=>[(u(!0),_(v,null,p(V.value,(a,l)=>(u(),s(j,{key:l,class:m(["category-item",{active:x.value===a.value}]),onClick:l=>x.value=a.value},{default:t(()=>[o(e,{class:"category-emoji"},{default:t(()=>[d(b(a.emoji),1)]),_:2},1024),o(e,{class:"category-text"},{default:t(()=>[d(b(a.label),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),o(j,{class:"animal-list"},{default:t(()=>[(u(!0),_(v,null,p(S.value,a=>(u(),s(j,{key:a.id,class:"animal-card",onClick:a=>{y({title:"è¯¦æƒ…é¡µé¢å¼€å‘ä¸­",icon:"none"})}},{default:t(()=>[o(z,{src:a.photo,mode:"aspectFill",class:"animal-image"},null,8,["src"]),o(j,{class:"badge-wrapper"},{default:t(()=>[a.isUrgent?(u(),s(j,{key:0,class:"badge urgent"},{default:t(()=>[d(" ðŸš¨ ç´§æ€¥ ")]),_:1})):i("",!0),"injured"===a.healthStatus?(u(),s(j,{key:1,class:"badge health"},{default:t(()=>[d(" ðŸ¥ å—ä¼¤ ")]),_:1})):i("",!0)]),_:2},1024),o(j,{class:"animal-info"},{default:t(()=>[o(j,{class:"info-header"},{default:t(()=>[o(e,{class:"animal-name"},{default:t(()=>[d(b(a.name||"å¾…å‘½å"),1)]),_:2},1024),o(j,{class:m(["gender-badge",a.gender])},{default:t(()=>[d(b("male"===a.gender?"â™‚":"â™€"),1)]),_:2},1032,["class"])]),_:2},1024),o(j,{class:"info-row"},{default:t(()=>[o(j,{class:"info-item"},{default:t(()=>[o(e,{class:"info-label"},{default:t(()=>[d("å“ç§")]),_:1}),o(e,{class:"info-value"},{default:t(()=>[d(b(a.breed),1)]),_:2},1024)]),_:2},1024),o(j,{class:"info-item"},{default:t(()=>[o(e,{class:"info-label"},{default:t(()=>[d("å¹´é¾„")]),_:1}),o(e,{class:"info-value"},{default:t(()=>[d(b(a.age),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),o(j,{class:"info-row"},{default:t(()=>[o(e,{class:"location-icon"},{default:t(()=>[d("ðŸ“")]),_:1}),o(e,{class:"location-text"},{default:t(()=>[d(b(a.location),1)]),_:2},1024)]),_:2},1024),o(j,{class:"info-desc"},{default:t(()=>[d(b(a.description),1)]),_:2},1024),o(j,{class:"card-footer"},{default:t(()=>[o(j,{class:m(["status-tag",a.status])},{default:t(()=>{return[d(b((l=a.status,{available:"å¯é¢†å…»",pending:"å¾…å®¡æ ¸",adopted:"å·²é¢†å…»",rescued:"æ•‘åŠ©ä¸­"}[l]||"æœªçŸ¥")),1)];var l}),_:2},1032,["class"]),o(j,{class:"action-btns"},{default:t(()=>[o(E,{class:"btn-action",onClick:g(l=>(a=>{a.isLiked=!a.isLiked,y({title:a.isLiked?"å·²æ”¶è—":"å·²å–æ¶ˆæ”¶è—",icon:"success"})})(a),["stop"])},{default:t(()=>[o(e,{class:"btn-icon"},{default:t(()=>[d(b(a.isLiked?"â¤ï¸":"ðŸ¤"),1)]),_:2},1024)]),_:2},1032,["onClick"]),o(E,{class:"btn-action primary",onClick:g(a=>{y({title:"é¢†å…»ç”³è¯·åŠŸèƒ½å¼€å‘ä¸­",icon:"none"})},["stop"])},{default:t(()=>[o(e,{class:"btn-icon"},{default:t(()=>[d("ðŸ ")]),_:1}),o(e,{class:"btn-text"},{default:t(()=>[d("é¢†å…»")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),0===S.value.length?(u(),s(j,{key:0,class:"empty-state"},{default:t(()=>[o(e,{class:"empty-icon"},{default:t(()=>[d("ðŸ¾")]),_:1}),o(e,{class:"empty-text"},{default:t(()=>[d("æš‚æ— æµæµªåŠ¨ç‰©ä¿¡æ¯")]),_:1}),o(e,{class:"empty-desc"},{default:t(()=>[d("æ•¬è¯·æœŸå¾…æ›´å¤šå°å¯çˆ±")]),_:1})]),_:1})):i("",!0)]),_:1}),L.value?(u(),s(j,{key:0,class:"filter-modal",onClick:l[4]||(l[4]=a=>L.value=!1)},{default:t(()=>[o(j,{class:"filter-content",onClick:l[3]||(l[3]=g(()=>{},["stop"]))},{default:t(()=>[o(j,{class:"filter-header"},{default:t(()=>[o(e,{class:"filter-title"},{default:t(()=>[d("ç­›é€‰æ¡ä»¶")]),_:1}),o(e,{class:"filter-close",onClick:l[2]||(l[2]=a=>L.value=!1)},{default:t(()=>[d("âœ•")]),_:1})]),_:1}),o(j,{class:"filter-section"},{default:t(()=>[o(e,{class:"filter-label"},{default:t(()=>[d("åŠ¨ç‰©ç±»åž‹")]),_:1}),o(j,{class:"filter-options"},{default:t(()=>[(u(!0),_(v,null,p(F.value,a=>(u(),s(j,{key:a.value,class:m(["filter-option",{active:q.value===a.value}]),onClick:l=>q.value=a.value},{default:t(()=>[d(b(a.label),1)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),o(j,{class:"filter-section"},{default:t(()=>[o(e,{class:"filter-label"},{default:t(()=>[d("å¥åº·çŠ¶å†µ")]),_:1}),o(j,{class:"filter-options"},{default:t(()=>[(u(!0),_(v,null,p(I.value,a=>(u(),s(j,{key:a.value,class:m(["filter-option",{active:T.value===a.value}]),onClick:l=>T.value=a.value},{default:t(()=>[d(b(a.label),1)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),o(j,{class:"filter-actions"},{default:t(()=>[o(E,{class:"btn-reset",onClick:B},{default:t(()=>[d("é‡ç½®")]),_:1}),o(E,{class:"btn-confirm",onClick:D},{default:t(()=>[d("ç¡®å®š")]),_:1})]),_:1})]),_:1})]),_:1})):i("",!0)]),_:1})}}},[["__scopeId","data-v-6ed2109b"]]);export{w as default};
