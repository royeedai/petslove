import{A as t,N as e,v as o}from"./index-CD2lgknr.js";const a=a=>new Promise((s,r)=>{const d=t("token");e({url:"/api"+a.url,method:a.method||"GET",data:a.data||{},header:{"Content-Type":"application/json",Authorization:d?`Bearer ${d}`:""},success:t=>{200===t.statusCode?200===t.data.code?s(t.data):(o({title:t.data.message||"请求失败",icon:"none"}),r(t.data)):(o({title:"网络请求失败",icon:"none"}),r(t))},fail:t=>{o({title:"网络连接失败",icon:"none"}),r(t)}})}),s={wxLogin:t=>a({url:"/user/wx-login",method:"POST",data:t}),phoneLogin:t=>a({url:"/user/phone-login",method:"POST",data:t}),sendCode:t=>a({url:"/user/send-code",method:"POST",data:{phone:t}}),getUserInfo:t=>a({url:"/user/info",method:"GET",data:{userId:t}}),updateUserInfo:(t,e)=>a({url:"/user/info",method:"PUT",data:{userId:t,...e}}),verify:(t,e)=>a({url:"/user/verify",method:"POST",data:{userId:t,...e}}),getPointsRecords:(t,e=20)=>a({url:"/user/points/records",method:"GET",data:{userId:t,limit:e}})},r={getTaskList:t=>a({url:"/rescue/tasks",method:"GET",data:t}),getTaskDetail:t=>a({url:`/rescue/task/${t}`,method:"GET"}),publishTask:t=>a({url:"/rescue/task/publish",method:"POST",data:t}),acceptTask:t=>a({url:`/rescue/task/${t}/accept`,method:"POST"}),completeTask:(t,e)=>a({url:`/rescue/task/${t}/complete`,method:"POST",data:e}),getAnimalList:t=>a({url:"/rescue/animals",method:"GET",data:t}),getAnimalDetail:t=>a({url:`/rescue/animal/${t}`,method:"GET"}),reportAnimal:t=>a({url:"/rescue/animal/report",method:"POST",data:t})},d={getPostList:t=>a({url:"/community/posts",method:"GET",data:t}),getPostDetail:t=>a({url:`/community/post/${t}`,method:"GET"}),publishPost:t=>a({url:"/community/post",method:"POST",data:t}),deletePost:t=>a({url:`/community/post/${t}`,method:"DELETE"}),getCommentList:t=>a({url:`/community/post/${t}/comments`,method:"GET"}),publishComment:t=>a({url:"/community/comment",method:"POST",data:t}),toggleLike:(t,e)=>a({url:"/community/like",method:"POST",data:{targetType:t,targetId:e}}),isLiked:(t,e)=>a({url:"/community/is-liked",method:"GET",data:{targetType:t,targetId:e}})},m=(t,e)=>{const o=t.__vccOpts||t;for(const[a,s]of e)o[a]=s;return o};export{m as _,d as c,r,s as u};
